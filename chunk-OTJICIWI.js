import{a as n}from"./chunk-4DB2YMOA.js";import{O as h,T as u,Vb as l,a as p,b as a,c as o,p as r}from"./chunk-NPZXHD37.js";var m=(()=>{class s{http;apiUrl=n.apiUrl;constructor(t){this.http=t}getProducts(){return r(this.http.get(`${this.apiUrl}/products`))}getProduct(t){return r(this.http.get(`${this.apiUrl}/products/${t}`))}getProductBySlug(t){return r(this.http.get(`${this.apiUrl}/products/slug/${t}`))}getFeaturedProducts(){return o(this,null,function*(){return(yield this.getProducts()).filter(e=>e.isFeatured)})}getCategories(){return r(this.http.get(`${this.apiUrl}/categories`))}getCategoryTree(){return r(this.http.get(`${this.apiUrl}/categories/tree`))}getCart(t){return r(this.http.get(`${this.apiUrl}/cart/customer/${t}`))}addToCart(t,e,i){return r(this.http.post(`${this.apiUrl}/cart/customer/${t}/items`,{variantId:e,quantity:i}))}updateCartItem(t,e,i){return r(this.http.put(`${this.apiUrl}/cart/customer/${t}/items/${e}`,{quantity:i}))}removeCartItem(t,e){return r(this.http.delete(`${this.apiUrl}/cart/customer/${t}/items/${e}`))}clearCart(t){return r(this.http.delete(`${this.apiUrl}/cart/customer/${t}`))}getOrders(t){return r(this.http.get(`${this.apiUrl}/orders/customer/${t}`))}getOrder(t){return r(this.http.get(`${this.apiUrl}/orders/${t}`))}createCheckout(t){return r(this.http.post(`${this.apiUrl}/payment/checkout`,a(p({},t),{successUrl:`${window.location.origin}/checkout/success`,cancelUrl:`${window.location.origin}/cart`})))}getAddresses(t){return r(this.http.get(`${this.apiUrl}/customers/${t}/addresses`))}createAddress(t,e){return r(this.http.post(`${this.apiUrl}/customers/${t}/addresses`,e))}validateCoupon(t){return r(this.http.get(`${this.apiUrl}/coupons/validate/${t}`))}updateProfile(t,e){return r(this.http.put(`${this.apiUrl}/auth/profile/${t}`,e))}getAllCustomers(t=1,e=20){return r(this.http.get(`${this.apiUrl}/customers?page=${t}&limit=${e}`))}getCustomer(t){return r(this.http.get(`${this.apiUrl}/customers/${t}`))}getCustomerRoles(){return r(this.http.get(`${this.apiUrl}/customers/roles`))}updateCustomerRole(t,e){return r(this.http.put(`${this.apiUrl}/customers/${t}/role`,{role:e}))}getAllOrders(t){let e=t?`${this.apiUrl}/orders?status=${t}`:`${this.apiUrl}/orders`;return r(this.http.get(e))}updateOrderStatus(t,e){return r(this.http.put(`${this.apiUrl}/orders/${t}/status`,{status:e}))}createProduct(t){return r(this.http.post(`${this.apiUrl}/products`,t))}updateProduct(t,e){return r(this.http.put(`${this.apiUrl}/products/${t}`,e))}deleteProduct(t){return r(this.http.delete(`${this.apiUrl}/products/${t}`))}getAdminProducts(){return r(this.http.get(`${this.apiUrl}/products/admin/all`))}uploadFile(t,e){let i=new FormData;i.append("file",t);let c=e?`${this.apiUrl}/storage/upload?folder=${e}`:`${this.apiUrl}/storage/upload`;return r(this.http.post(c,i))}deleteFile(t){return r(this.http.delete(`${this.apiUrl}/storage/${t}`))}getCoupons(){return r(this.http.get(`${this.apiUrl}/coupons`))}getCouponsByProduct(t){return r(this.http.get(`${this.apiUrl}/coupons/product/${t}`))}createCoupon(t){return r(this.http.post(`${this.apiUrl}/coupons`,t))}updateCoupon(t,e){return r(this.http.put(`${this.apiUrl}/coupons/${t}`,e))}deleteCoupon(t){return r(this.http.delete(`${this.apiUrl}/coupons/${t}`))}getAdminReviews(t){return r(this.http.get(`${this.apiUrl}/reviews/admin/product/${t}`))}approveReview(t){return r(this.http.put(`${this.apiUrl}/reviews/${t}/approve`,{}))}toggleReviewFeatured(t){return r(this.http.put(`${this.apiUrl}/reviews/${t}/toggle-featured`,{}))}updateReview(t,e){return r(this.http.put(`${this.apiUrl}/reviews/${t}`,e))}deleteReview(t){return r(this.http.delete(`${this.apiUrl}/reviews/${t}`))}createPrepaidCard(){return r(this.http.post(`${this.apiUrl}/billing/cards`,{}))}getMyPrepaidCards(){return r(this.http.get(`${this.apiUrl}/billing/cards/me`))}getPrepaidCardBalance(t){return r(this.http.get(`${this.apiUrl}/billing/cards/${t}/balance`))}createTopup(t,e){return r(this.http.post(`${this.apiUrl}/billing/cards/${t}/topup`,{amount:e,successUrl:`${window.location.origin}/account/prepaid-card?topup=success`,cancelUrl:`${window.location.origin}/account/prepaid-card?topup=cancelled`}))}getPrepaidCardTransactions(t,e=1,i=20){return r(this.http.get(`${this.apiUrl}/billing/cards/${t}/transactions?page=${e}&limit=${i}`))}getPrepaidCardTopups(t,e=1,i=20){return r(this.http.get(`${this.apiUrl}/billing/cards/${t}/topups?page=${e}&limit=${i}`))}static \u0275fac=function(e){return new(e||s)(u(l))};static \u0275prov=h({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();export{m as a};
