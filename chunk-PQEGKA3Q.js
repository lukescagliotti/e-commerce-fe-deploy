import{a as V}from"./chunk-U4F5Q3TV.js";import"./chunk-4DB2YMOA.js";import{f as b}from"./chunk-AGIFKPVW.js";import{$ as C,$a as P,Aa as S,Ea as g,Ia as x,Lb as N,Oa as h,Ta as u,Va as T,Wa as y,Wb as k,Xa as i,Xb as B,Ya as n,Z as I,Za as _,_ as E,_a as w,_b as F,aa as A,ab as c,c as f,gb as r,hb as o,ib as s,rb as D,sb as d,ta as M,tb as l,wa as a}from"./chunk-RJSZ27IG.js";var H=t=>["/admin/products",t],L=(t,m)=>m.id;function O(t,m){t&1&&(i(0,"div",7),_(1,"div",10),n())}function j(t,m){t&1&&(i(0,"div",8),r(1),d(2,"translate"),n()),t&2&&(a(),o(l(2,1,"CMS_ADMIN.NO_PRODUCTS")))}function U(t,m){if(t&1&&_(0,"img",18),t&2){let e=c().$implicit;h("src",e.images[0].url,M)}}function $(t,m){t&1&&(i(0,"div",19),C(),i(1,"svg",28),_(2,"path",29),n()())}function G(t,m){if(t&1&&(i(0,"span",23),r(1),n()),t&2){let e=c().$implicit;a(),s("-",e.discountPercentage,"%")}}function z(t,m){t&1&&(i(0,"span",24),r(1),d(2,"translate"),n()),t&2&&(a(),o(l(2,1,"CMS_ADMIN.ACTIVE")))}function W(t,m){t&1&&(i(0,"span",25),r(1),d(2,"translate"),n()),t&2&&(a(),o(l(2,1,"CMS_ADMIN.INACTIVE")))}function q(t,m){if(t&1){let e=w();i(0,"tr",15)(1,"td",16)(2,"div",17),x(3,U,1,1,"img",18)(4,$,3,0,"div",19),i(5,"div")(6,"p",20),r(7),n(),i(8,"p",21),r(9),n()()()(),i(10,"td",22),r(11),n(),i(12,"td",16)(13,"div")(14,"span",20),r(15),n(),x(16,G,2,1,"span",23),n()(),i(17,"td",22),r(18),n(),i(19,"td",16),x(20,z,3,3,"span",24)(21,W,3,3,"span",25),n(),i(22,"td",16)(23,"div",17)(24,"a",26),r(25),d(26,"translate"),n(),i(27,"button",27),P("click",function(){let v=I(e).$implicit,R=c(2);return E(R.deleteProduct(v))}),r(28),d(29,"translate"),n()()()()}if(t&2){let e=m.$implicit,p=c(2);a(3),u(e.images&&e.images.length>0?3:4),a(4),o(e.name),a(2),o(e.slug),a(2),o(e.brand),a(4),s("\u20AC ",p.parseFloat(e.finalPrice).toFixed(2),""),a(),u(p.parseFloat(e.discountPercentage)>0?16:-1),a(2),o((e.productVariants==null?null:e.productVariants.length)||0),a(2),u(e.isActive?20:21),a(4),h("routerLink",D(15,H,e.id)),a(),s(" ",l(26,11,"CMS_ADMIN.EDIT")," "),a(3),s(" ",l(29,13,"CMS_ADMIN.DELETE")," ")}}function J(t,m){if(t&1&&(i(0,"div",9)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th",13),r(5),d(6,"translate"),n(),i(7,"th",13),r(8),d(9,"translate"),n(),i(10,"th",13),r(11),d(12,"translate"),n(),i(13,"th",13),r(14),d(15,"translate"),n(),i(16,"th",13),r(17),d(18,"translate"),n(),i(19,"th",13),r(20),d(21,"translate"),n()()(),i(22,"tbody",14),T(23,q,30,17,"tr",15,L),n()()()),t&2){let e=c();a(5),o(l(6,6,"CMS_ADMIN.TH_PRODUCT")),a(3),o(l(9,8,"CMS_ADMIN.TH_BRAND")),a(3),o(l(12,10,"CMS_ADMIN.TH_PRICE")),a(3),o(l(15,12,"CMS_ADMIN.TH_VARIANTS")),a(3),o(l(18,14,"CMS_ADMIN.TH_STATUS")),a(3),o(l(21,16,"CMS_ADMIN.TH_ACTIONS")),a(3),y(e.products)}}var et=(()=>{class t{api;translate;products=[];loading=!0;constructor(e,p){this.api=e,this.translate=p}ngOnInit(){this.loadProducts()}parseFloat(e){return Number.parseFloat(e)}deleteProduct(e){return f(this,null,function*(){if(confirm(this.translate.instant("CMS_ADMIN.DELETE_CONFIRM")+' "'+e.name+'"?'))try{yield this.api.deleteProduct(e.id),this.products=this.products.filter(p=>p.id!==e.id)}catch(p){console.error("Error deleting product:",p)}})}loadProducts(){return f(this,null,function*(){try{this.products=yield this.api.getAdminProducts()}catch(e){console.error("Error loading products:",e)}finally{this.loading=!1}})}static \u0275fac=function(p){return new(p||t)(S(V),S(k))};static \u0275cmp=g({type:t,selectors:[["app-admin-products"]],decls:18,vars:10,consts:[[1,"flex","items-center","justify-between","mb-8"],[1,"text-2xl","font-semibold","text-white"],[1,"text-[var(--text-secondary)]","mt-1"],["routerLink","/admin/products/new",1,"px-4","py-2.5","rounded-lg","text-sm","font-medium","bg-cyan-500","hover:bg-cyan-400","text-white","transition-colors","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"glass-card","rounded-xl"],[1,"p-8","text-center"],[1,"p-8","text-center","text-[var(--text-secondary)]"],[1,"overflow-x-auto"],[1,"animate-spin","h-8","w-8","border-2","border-cyan-400","border-t-transparent","rounded-full","mx-auto"],[1,"w-full"],[1,"text-left","text-xs","font-medium","text-[var(--text-muted)]","uppercase","tracking-wider","border-b","border-white/[0.06]"],[1,"px-6","py-3"],[1,"divide-y","divide-white/[0.06]"],[1,"hover:bg-white/[0.04]","transition-colors"],[1,"px-6","py-4"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-lg","object-cover",3,"src"],[1,"w-10","h-10","rounded-lg","bg-white/[0.06]","flex","items-center","justify-center"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","text-[var(--text-muted)]"],[1,"px-6","py-4","text-sm","text-[var(--text-secondary)]"],[1,"ml-2","text-xs","text-red-400","font-medium"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-emerald-500/15","text-emerald-400"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-white/[0.08]","text-[var(--text-secondary)]"],[1,"text-cyan-400","hover:text-cyan-300","text-sm","font-medium","transition-colors",3,"routerLink"],[1,"text-red-400","hover:text-red-300","text-sm","font-medium","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-[var(--text-muted)]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"]],template:function(p,v){p&1&&(i(0,"div")(1,"div",0)(2,"div")(3,"h1",1),r(4),d(5,"translate"),n(),i(6,"p",2),r(7),d(8,"translate"),n()(),i(9,"a",3),C(),i(10,"svg",4),_(11,"path",5),n(),r(12),d(13,"translate"),n()(),A(),i(14,"div",6),x(15,O,2,0,"div",7)(16,j,3,3,"div",8)(17,J,25,18,"div",9),n()()),p&2&&(a(4),o(l(5,4,"CMS_ADMIN.PRODUCTS")),a(3),o(l(8,6,"CMS_ADMIN.MANAGE_PRODUCTS")),a(5),s(" ",l(13,8,"CMS_ADMIN.NEW_PRODUCT")," "),a(3),u(v.loading?15:v.products.length===0?16:17))},dependencies:[N,b,F,B],encapsulation:2})}return t})();export{et as AdminProductsComponent};
