import{a as R}from"./chunk-Z7I3XMZR.js";import{a as A,b as P,c as j,d as V,e as W,f as D,k as z,m as q}from"./chunk-IPPW7I6G.js";import"./chunk-KDXJ3RTB.js";import{c as O,f as G}from"./chunk-LN4SGBIJ.js";import{$ as u,$a as E,Da as I,Eb as k,Ha as v,Na as g,Pb as N,Qb as B,Sa as w,Tb as T,Wa as e,Xa as t,Ya as s,_a as y,aa as L,c as b,eb as l,fb as p,gb as x,jb as _,kb as C,lb as M,ob as r,pb as o,va as n,za as h}from"./chunk-PVRYHEF3.js";function F(i,f){if(i&1&&(e(0,"div",14),l(1),t()),i&2){let d=E();n(),p(d.error)}}function H(i,f){i&1&&(u(),e(0,"svg",21),s(1,"path",31),t())}function U(i,f){i&1&&(u(),e(0,"svg",21),s(1,"path",32)(2,"path",33),t())}function J(i,f){i&1&&(e(0,"span",28),u(),e(1,"svg",34),s(2,"circle",35)(3,"path",36),t(),l(4),r(5,"translate"),t()),i&2&&(n(4),x(" ",o(5,1,"CMS_LOGIN.LOGGING_IN")," "))}function K(i,f){i&1&&(l(0),r(1,"translate")),i&2&&x(" ",o(1,1,"CMS_LOGIN.SUBMIT")," ")}var ae=(()=>{class i{auth;route;translate;email="";password="";showPassword=!1;loading=!1;error=null;redirect="/";constructor(d,c,a){this.auth=d,this.route=c,this.translate=a,this.redirect=this.route.snapshot.queryParams.redirect||"/"}handleSubmit(){return b(this,null,function*(){this.loading=!0,this.error=null;try{yield this.auth.login(this.email,this.password),window.location.href=this.redirect}catch(d){this.error=d instanceof Error?d.message:this.translate.instant("CMS_LOGIN.ERROR")}finally{this.loading=!1}})}static \u0275fac=function(c){return new(c||i)(h(R),h(O),h(N))};static \u0275cmp=I({type:i,selectors:[["app-login"]],decls:53,vars:37,consts:[[1,"min-h-screen","flex","flex-col","justify-center","py-12","px-6","relative",2,"background","var(--bg-primary)"],[1,"absolute","inset-0","bg-grid","opacity-20"],[1,"absolute","top-1/3","left-1/2","-translate-x-1/2","-translate-y-1/2","w-[500px]","h-[300px]","rounded-full","opacity-10","blur-[120px]",2,"background","radial-gradient(circle, var(--accent-cyan), transparent)"],[1,"max-w-md","w-full","mx-auto","relative"],[1,"text-center","mb-8"],["routerLink","/",1,"inline-flex","items-center","gap-2","group"],[1,"w-10","h-10","rounded-xl","bg-gradient-to-br","from-cyan-400","to-blue-500","flex","items-center","justify-center","shadow-lg","shadow-cyan-500/20"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"mt-6","text-2xl","font-bold","text-white"],[1,"mt-2","text-[var(--text-secondary)]"],[1,"glass-card","rounded-2xl","p-8","relative","overflow-hidden"],[1,"absolute","top-0","left-1/2","-translate-x-1/2","w-1/2","h-px",2,"background","linear-gradient(to right, transparent, var(--accent-cyan), transparent)"],[1,"space-y-5",3,"ngSubmit"],[1,"glass","border","border-red-500/20","text-red-400","px-4","py-3","rounded-xl","text-sm"],["for","email",1,"block","text-sm","font-medium","text-[var(--text-secondary)]","mb-1.5"],["id","email","type","email","required","","name","email",1,"w-full","input-glass",3,"ngModelChange","ngModel","placeholder"],["for","password",1,"block","text-sm","font-medium","text-[var(--text-secondary)]","mb-1.5"],[1,"relative"],["id","password","required","","name","password",1,"w-full","input-glass","pr-12",3,"ngModelChange","type","ngModel","placeholder"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","p-1","text-[var(--text-muted)]","hover:text-white","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-2","cursor-pointer"],["type","checkbox",1,"w-4","h-4","rounded","accent-[var(--accent-cyan)]"],[1,"text-sm","text-[var(--text-secondary)]"],["routerLink","/forgot-password",1,"text-sm","text-[var(--accent-cyan)]","hover:text-cyan-300","font-medium"],["type","submit",1,"w-full","btn-primary","py-3.5","px-4","rounded-xl","font-semibold","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"mt-6","text-center","text-sm","text-[var(--text-secondary)]"],["routerLink","/register",1,"text-[var(--accent-cyan)]","hover:text-cyan-300","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4","fill","none",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(c,a){c&1&&(e(0,"div",0),s(1,"div",1)(2,"div",2),e(3,"div",3)(4,"div",4)(5,"a",5)(6,"div",6),u(),e(7,"svg",7),s(8,"path",8),t()()(),L(),e(9,"h1",9),l(10),r(11,"translate"),t(),e(12,"p",10),l(13),r(14,"translate"),t()(),e(15,"div",11),s(16,"div",12),e(17,"form",13),y("ngSubmit",function(){return a.handleSubmit()}),v(18,F,2,1,"div",14),e(19,"div")(20,"label",15),l(21),r(22,"translate"),t(),e(23,"input",16),r(24,"translate"),M("ngModelChange",function(m){return C(a.email,m)||(a.email=m),m}),t()(),e(25,"div")(26,"label",17),l(27),r(28,"translate"),t(),e(29,"div",18)(30,"input",19),r(31,"translate"),M("ngModelChange",function(m){return C(a.password,m)||(a.password=m),m}),t(),e(32,"button",20),y("click",function(){return a.showPassword=!a.showPassword}),v(33,H,2,0,":svg:svg",21)(34,U,3,0,":svg:svg",21),t()()(),e(35,"div",22)(36,"label",23),s(37,"input",24),e(38,"span",25),l(39),r(40,"translate"),t()(),e(41,"a",26),l(42),r(43,"translate"),t()(),e(44,"button",27),v(45,J,6,3,"span",28)(46,K,2,3),t()()(),e(47,"p",29),l(48),r(49,"translate"),e(50,"a",30),l(51),r(52,"translate"),t()()()()),c&2&&(n(10),p(o(11,17,"CMS_LOGIN.WELCOME")),n(3),p(o(14,19,"CMS_LOGIN.SUBTITLE")),n(5),w(a.error?18:-1),n(3),p(o(22,21,"CMS_LOGIN.EMAIL")),n(2),_("ngModel",a.email),g("placeholder",o(24,23,"CMS_LOGIN.EMAIL_PLACEHOLDER")),n(4),p(o(28,25,"CMS_LOGIN.PASSWORD")),n(3),g("type",a.showPassword?"text":"password"),_("ngModel",a.password),g("placeholder",o(31,27,"CMS_LOGIN.PASSWORD_PLACEHOLDER")),n(3),w(a.showPassword?33:34),n(6),p(o(40,29,"CMS_LOGIN.REMEMBER")),n(3),x(" ",o(43,31,"CMS_LOGIN.FORGOT")," "),n(2),g("disabled",a.loading),n(),w(a.loading?45:46),n(3),x(" ",o(49,33,"CMS_LOGIN.NO_ACCOUNT")," "),n(3),p(o(52,35,"CMS_LOGIN.REGISTER")))},dependencies:[k,q,D,A,P,j,z,W,V,G,T,B],encapsulation:2})}return i})();export{ae as LoginComponent};
