import{a as y}from"./chunk-ONN25KGN.js";import"./chunk-4DB2YMOA.js";import{Aa as v,Ea as _,Ia as x,Kb as b,Ra as u,Ta as C,Va as S,Wa as M,Wb as g,Xa as a,Ya as i,Za as E,Zb as h,ab as m,c as f,gb as r,hb as o,ib as I,rb as d,sb as s,wa as t}from"./chunk-CW4A2IZA.js";var T=(n,p)=>p.id;function A(n,p){n&1&&(a(0,"div",4),E(1,"div",7),i())}function D(n,p){n&1&&(a(0,"div",5),r(1),d(2,"translate"),i()),n&2&&(t(),o(s(2,1,"CMS_ADMIN.NO_CUSTOMERS")))}function N(n,p){if(n&1&&(a(0,"p",17),r(1),i()),n&2){let e=m().$implicit;t(),o(e.phone)}}function w(n,p){if(n&1&&(a(0,"tr",12)(1,"td",13)(2,"div",14)(3,"div",15)(4,"span",16),r(5),i()(),a(6,"div")(7,"p",16),r(8),i(),x(9,N,2,1,"p",17),i()()(),a(10,"td",18),r(11),i(),a(12,"td",13)(13,"span"),r(14),d(15,"translate"),d(16,"translate"),i()(),a(17,"td",13)(18,"span"),r(19),d(20,"translate"),i()(),a(21,"td",18),r(22),i()()),n&2){let e=p.$implicit,l=m(2);t(5),o(l.getInitials(e.fullName)),t(3),o(e.fullName),t(),C(e.phone?9:-1),t(2),o(e.email),t(2),u(e.customerType==="business"?"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-500/15 text-blue-400":"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-white/[0.08] text-[var(--text-secondary)]"),t(),I(" ",e.customerType==="business"?s(15,11,"CMS_ACCOUNT.BUSINESS"):s(16,13,"CMS_ACCOUNT.PRIVATE")," "),t(4),u(l.getRoleClass(e.role)),t(),o(s(20,15,l.getRoleLabel(e.role))),t(3),o(l.formatDate(e.createdAt))}}function R(n,p){if(n&1&&(a(0,"div",6)(1,"table",8)(2,"thead")(3,"tr",9)(4,"th",10),r(5),d(6,"translate"),i(),a(7,"th",10),r(8),d(9,"translate"),i(),a(10,"th",10),r(11),d(12,"translate"),i(),a(13,"th",10),r(14),d(15,"translate"),i(),a(16,"th",10),r(17),d(18,"translate"),i()()(),a(19,"tbody",11),S(20,w,23,17,"tr",12,T),i()()()),n&2){let e=m();t(5),o(s(6,5,"CMS_ADMIN.TH_CUSTOMER")),t(3),o(s(9,7,"CMS_ADMIN.TH_EMAIL")),t(3),o(s(12,9,"CMS_ADMIN.TH_TYPE")),t(3),o(s(15,11,"CMS_ADMIN.TH_ROLE")),t(3),o(s(18,13,"CMS_ADMIN.TH_REGISTERED")),t(3),M(e.customers)}}var P=(()=>{class n{api;customers=[];loading=!0;constructor(e){this.api=e}ngOnInit(){this.loadCustomers()}getInitials(e){return e.split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2)}formatDate(e){return new Date(e).toLocaleDateString("it-IT",{day:"2-digit",month:"short",year:"numeric"})}getRoleLabel(e){return{customer:"CMS_ADMIN.ROLE_CUSTOMER",admin:"CMS_ADMIN.ROLE_ADMIN",support:"CMS_ADMIN.ROLE_SUPPORT"}[e]||e}getRoleClass(e){return`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{admin:"bg-red-500/15 text-red-400",support:"bg-yellow-500/15 text-yellow-400",customer:"bg-emerald-500/15 text-emerald-400"}[e]||"bg-white/[0.08] text-[var(--text-secondary)]"}`}loadCustomers(){return f(this,null,function*(){try{this.customers=yield this.api.getAllCustomers()}catch(e){console.error("Error loading customers:",e)}finally{this.loading=!1}})}static \u0275fac=function(l){return new(l||n)(v(y))};static \u0275cmp=_({type:n,selectors:[["app-customers"]],decls:13,vars:7,consts:[[1,"flex","items-center","justify-between","mb-8"],[1,"text-2xl","font-semibold","text-white"],[1,"text-[var(--text-secondary)]","mt-1"],[1,"glass-card","rounded-xl"],[1,"p-8","text-center"],[1,"p-8","text-center","text-[var(--text-secondary)]"],[1,"overflow-x-auto"],[1,"animate-spin","h-8","w-8","border-2","border-cyan-400","border-t-transparent","rounded-full","mx-auto"],[1,"w-full"],[1,"text-left","text-xs","font-medium","text-[var(--text-muted)]","uppercase","tracking-wider","border-b","border-white/[0.06]"],[1,"px-6","py-3"],[1,"divide-y","divide-white/[0.06]"],[1,"hover:bg-white/[0.04]","transition-colors"],[1,"px-6","py-4"],[1,"flex","items-center","gap-3"],[1,"w-9","h-9","rounded-full","flex","items-center","justify-center",2,"background","var(--gradient-aurora)"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","text-[var(--text-muted)]"],[1,"px-6","py-4","text-sm","text-[var(--text-secondary)]"]],template:function(l,c){l&1&&(a(0,"div")(1,"div",0)(2,"div")(3,"h1",1),r(4),d(5,"translate"),i(),a(6,"p",2),r(7),d(8,"translate"),i()()(),a(9,"div",3),x(10,A,2,0,"div",4)(11,D,3,3,"div",5)(12,R,22,15,"div",6),i()()),l&2&&(t(4),o(s(5,3,"CMS_ADMIN.CUSTOMERS")),t(3),o(s(8,5,"CMS_ADMIN.MANAGE_CUSTOMERS")),t(3),C(c.loading?10:c.customers.length===0?11:12))},dependencies:[b,h,g],encapsulation:2})}return n})();export{P as CustomersComponent};
