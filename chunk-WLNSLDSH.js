import{a as g}from"./chunk-EC2R27NT.js";import"./chunk-V3ERSR33.js";import{$a as m,Da as I,Eb as P,Ha as x,Pb as D,Qb as y,Sa as u,Tb as N,Ua as A,Va as E,Wa as a,Xa as i,Ya as M,Z as f,Za as h,_ as S,_a as T,c as v,eb as r,fb as o,gb as _,ob as l,pb as p,va as n,za as C}from"./chunk-AHJKKBRJ.js";var w=(e,c)=>c.id;function B(e,c){e&1&&(a(0,"div",4),M(1,"div",7),i())}function F(e,c){e&1&&(a(0,"div",5),r(1),l(2,"translate"),i()),e&2&&(n(),o(p(2,1,"CMS_ADMIN.NO_PRODUCTS")))}function O(e,c){if(e&1&&(a(0,"span",17),r(1),i()),e&2){let t=m().$implicit;n(),_("-",t.discountPercentage,"%")}}function R(e,c){e&1&&(a(0,"span",18),r(1),l(2,"translate"),i()),e&2&&(n(),o(p(2,1,"CMS_ADMIN.ACTIVE")))}function V(e,c){e&1&&(a(0,"span",19),r(1),l(2,"translate"),i()),e&2&&(n(),o(p(2,1,"CMS_ADMIN.INACTIVE")))}function H(e,c){if(e&1){let t=h();a(0,"tr",12)(1,"td",13)(2,"div")(3,"p",14),r(4),i(),a(5,"p",15),r(6),i()()(),a(7,"td",16),r(8),i(),a(9,"td",13)(10,"div")(11,"span",14),r(12),i(),x(13,O,2,1,"span",17),i()(),a(14,"td",16),r(15),i(),a(16,"td",13),x(17,R,3,3,"span",18)(18,V,3,3,"span",19),i(),a(19,"td",13)(20,"button",20),T("click",function(){let s=f(t).$implicit,b=m(2);return S(b.deleteProduct(s))}),r(21),l(22,"translate"),i()()()}if(e&2){let t=c.$implicit,d=m(2);n(4),o(t.name),n(2),o(t.slug),n(2),o(t.brand),n(4),_("\u20AC ",d.parseFloat(t.finalPrice).toFixed(2),""),n(),u(d.parseFloat(t.discountPercentage)>0?13:-1),n(2),o((t.productVariants==null?null:t.productVariants.length)||0),n(2),u(t.isActive?17:18),n(4),_(" ",p(22,8,"CMS_ADMIN.DELETE")," ")}}function k(e,c){if(e&1&&(a(0,"div",6)(1,"table",8)(2,"thead")(3,"tr",9)(4,"th",10),r(5),l(6,"translate"),i(),a(7,"th",10),r(8),l(9,"translate"),i(),a(10,"th",10),r(11),l(12,"translate"),i(),a(13,"th",10),r(14),l(15,"translate"),i(),a(16,"th",10),r(17),l(18,"translate"),i(),a(19,"th",10),r(20),l(21,"translate"),i()()(),a(22,"tbody",11),A(23,H,23,10,"tr",12,w),i()()()),e&2){let t=m();n(5),o(p(6,6,"CMS_ADMIN.TH_PRODUCT")),n(3),o(p(9,8,"CMS_ADMIN.TH_BRAND")),n(3),o(p(12,10,"CMS_ADMIN.TH_PRICE")),n(3),o(p(15,12,"CMS_ADMIN.TH_VARIANTS")),n(3),o(p(18,14,"CMS_ADMIN.TH_STATUS")),n(3),o(p(21,16,"CMS_ADMIN.TH_ACTIONS")),n(3),E(t.products)}}var q=(()=>{class e{api;translate;products=[];loading=!0;constructor(t,d){this.api=t,this.translate=d}ngOnInit(){this.loadProducts()}parseFloat(t){return Number.parseFloat(t)}deleteProduct(t){return v(this,null,function*(){if(confirm(this.translate.instant("CMS_ADMIN.DELETE_CONFIRM")+' "'+t.name+'"?'))try{yield this.api.deleteProduct(t.id),this.products=this.products.filter(d=>d.id!==t.id)}catch(d){console.error("Error deleting product:",d)}})}loadProducts(){return v(this,null,function*(){try{this.products=yield this.api.getProducts()}catch(t){console.error("Error loading products:",t)}finally{this.loading=!1}})}static \u0275fac=function(d){return new(d||e)(C(g),C(D))};static \u0275cmp=I({type:e,selectors:[["app-admin-products"]],decls:13,vars:7,consts:[[1,"flex","items-center","justify-between","mb-8"],[1,"text-2xl","font-semibold","text-white"],[1,"text-[var(--text-secondary)]","mt-1"],[1,"glass-card","rounded-xl"],[1,"p-8","text-center"],[1,"p-8","text-center","text-[var(--text-secondary)]"],[1,"overflow-x-auto"],[1,"animate-spin","h-8","w-8","border-2","border-cyan-400","border-t-transparent","rounded-full","mx-auto"],[1,"w-full"],[1,"text-left","text-xs","font-medium","text-[var(--text-muted)]","uppercase","tracking-wider","border-b","border-white/[0.06]"],[1,"px-6","py-3"],[1,"divide-y","divide-white/[0.06]"],[1,"hover:bg-white/[0.04]","transition-colors"],[1,"px-6","py-4"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","text-[var(--text-muted)]"],[1,"px-6","py-4","text-sm","text-[var(--text-secondary)]"],[1,"ml-2","text-xs","text-red-400","font-medium"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-emerald-500/15","text-emerald-400"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-white/[0.08]","text-[var(--text-secondary)]"],[1,"text-red-400","hover:text-red-300","text-sm","font-medium","transition-colors",3,"click"]],template:function(d,s){d&1&&(a(0,"div")(1,"div",0)(2,"div")(3,"h1",1),r(4),l(5,"translate"),i(),a(6,"p",2),r(7),l(8,"translate"),i()()(),a(9,"div",3),x(10,B,2,0,"div",4)(11,F,3,3,"div",5)(12,k,25,18,"div",6),i()()),d&2&&(n(4),o(p(5,3,"CMS_ADMIN.PRODUCTS")),n(3),o(p(8,5,"CMS_ADMIN.MANAGE_PRODUCTS")),n(3),u(s.loading?10:s.products.length===0?11:12))},dependencies:[P,N,y],encapsulation:2})}return e})();export{q as AdminProductsComponent};
