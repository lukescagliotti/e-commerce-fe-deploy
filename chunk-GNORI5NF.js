import{a as y}from"./chunk-TZ7MRSS7.js";import"./chunk-V3ERSR33.js";import{f as _}from"./chunk-W32H2YVA.js";import{$ as c,Aa as M,Ea as h,Ia as f,Kb as T,Ra as u,Ta as b,Va as C,Wa as D,Wb as I,Xa as t,Ya as i,Za as S,Zb as A,aa as x,ab as v,c as g,gb as a,hb as r,ib as E,rb as o,sb as d,wa as n}from"./chunk-CW4A2IZA.js";var R=(s,m)=>m.id;function w(s,m){s&1&&(t(0,"div",24),a(1),o(2,"translate"),i()),s&2&&(n(),r(d(2,1,"CMS_ADMIN.NO_ORDERS")))}function N(s,m){if(s&1&&(t(0,"tr",30)(1,"td",31),a(2),i(),t(3,"td",32)(4,"span"),a(5),o(6,"translate"),i()(),t(7,"td",32)(8,"span"),a(9),o(10,"translate"),i()(),t(11,"td",33),a(12),i(),t(13,"td",34),a(14),i()()),s&2){let e=m.$implicit,l=v(2);n(2),r(e.orderNumber),n(2),u(l.getStatusClass(e.status)),n(),r(d(6,9,l.getStatusLabel(e.status))),n(3),u(l.getPaymentClass(e.paymentStatus)),n(),r(d(10,11,l.getPaymentLabel(e.paymentStatus))),n(3),E("\u20AC ",l.parseFloat(e.total).toFixed(2),""),n(2),r(l.formatDate(e.createdAt))}}function O(s,m){if(s&1&&(t(0,"div",25)(1,"table",26)(2,"thead")(3,"tr",27)(4,"th",28),a(5),o(6,"translate"),i(),t(7,"th",28),a(8),o(9,"translate"),i(),t(10,"th",28),a(11),o(12,"translate"),i(),t(13,"th",28),a(14),o(15,"translate"),i(),t(16,"th",28),a(17),o(18,"translate"),i()()(),t(19,"tbody",29),C(20,N,15,13,"tr",30,R),i()()()),s&2){let e=v();n(5),r(d(6,5,"CMS_ADMIN.TH_ORDER")),n(3),r(d(9,7,"CMS_ADMIN.TH_STATUS")),n(3),r(d(12,9,"CMS_ADMIN.TH_PAYMENT")),n(3),r(d(15,11,"CMS_ADMIN.TH_TOTAL")),n(3),r(d(18,13,"CMS_ADMIN.TH_DATE")),n(3),D(e.orders.slice(0,5))}}var j=(()=>{class s{api;orders=[];products=[];customers=[];constructor(e){this.api=e}ngOnInit(){this.loadData()}get totalRevenue(){return this.orders.filter(e=>e.paymentStatus==="paid").reduce((e,l)=>e+parseFloat(l.total),0)}parseFloat(e){return Number.parseFloat(e)}formatDate(e){return new Date(e).toLocaleDateString("it-IT",{day:"2-digit",month:"short",year:"numeric"})}getStatusLabel(e){return{pending:"CMS_ORDERS.STATUS.PENDING",confirmed:"CMS_ORDERS.STATUS.CONFIRMED",processing:"CMS_ORDERS.STATUS.PROCESSING",shipped:"CMS_ORDERS.STATUS.SHIPPED",delivered:"CMS_ORDERS.STATUS.DELIVERED",cancelled:"CMS_ORDERS.STATUS.CANCELLED"}[e]||e}getStatusClass(e){return`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{pending:"bg-yellow-500/15 text-yellow-400",confirmed:"bg-blue-500/15 text-blue-400",processing:"bg-indigo-500/15 text-indigo-400",shipped:"bg-purple-500/15 text-purple-400",delivered:"bg-emerald-500/15 text-emerald-400",cancelled:"bg-red-500/15 text-red-400"}[e]||"bg-white/[0.08] text-[var(--text-secondary)]"}`}getPaymentLabel(e){return{pending:"CMS_ORDERS.PAYMENT_STATUS.PENDING",paid:"CMS_ORDERS.PAYMENT_STATUS.PAID",failed:"CMS_ORDERS.PAYMENT_STATUS.FAILED",refunded:"CMS_ORDERS.PAYMENT_STATUS.REFUNDED"}[e]||e}getPaymentClass(e){return`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{pending:"bg-yellow-500/15 text-yellow-400",paid:"bg-emerald-500/15 text-emerald-400",failed:"bg-red-500/15 text-red-400",refunded:"bg-white/[0.08] text-[var(--text-secondary)]"}[e]||"bg-white/[0.08] text-[var(--text-secondary)]"}`}loadData(){return g(this,null,function*(){try{let[e,l,p]=yield Promise.all([this.api.getAllOrders(),this.api.getProducts(),this.api.getAllCustomers()]);this.orders=e,this.products=l,this.customers=p}catch(e){console.error("Error loading dashboard data:",e)}})}static \u0275fac=function(l){return new(l||s)(M(y))};static \u0275cmp=h({type:s,selectors:[["app-dashboard"]],decls:59,vars:29,consts:[[1,"mb-8"],[1,"text-2xl","font-semibold","text-white"],[1,"text-[var(--text-secondary)]","mt-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"glass-card","rounded-xl","p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center",2,"background","rgba(6, 182, 212, 0.12)"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-cyan-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"text-2xl","font-semibold","text-gradient"],[1,"text-sm","text-[var(--text-secondary)]"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center",2,"background","rgba(16, 185, 129, 0.12)"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5",2,"color","var(--success)"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center",2,"background","rgba(59, 130, 246, 0.12)"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center",2,"background","rgba(168, 85, 247, 0.12)"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"glass-card","rounded-xl"],[1,"p-6","border-b","border-white/[0.06]","flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-white"],["routerLink","/admin/orders",1,"text-sm","text-cyan-400","hover:text-cyan-300","font-medium","transition-colors"],[1,"p-8","text-center","text-[var(--text-secondary)]"],[1,"overflow-x-auto"],[1,"w-full"],[1,"text-left","text-xs","font-medium","text-[var(--text-muted)]","uppercase","tracking-wider"],[1,"px-6","py-3"],[1,"divide-y","divide-white/[0.06]"],[1,"hover:bg-white/[0.04]","transition-colors"],[1,"px-6","py-4","text-sm","font-medium","text-white"],[1,"px-6","py-4"],[1,"px-6","py-4","text-sm","text-white","font-medium"],[1,"px-6","py-4","text-sm","text-[var(--text-secondary)]"]],template:function(l,p){l&1&&(t(0,"div")(1,"div",0)(2,"h1",1),a(3),o(4,"translate"),i(),t(5,"p",2),a(6),o(7,"translate"),i()(),t(8,"div",3)(9,"div",4)(10,"div",5)(11,"div",6),c(),t(12,"svg",7),S(13,"path",8),i()()(),x(),t(14,"p",9),a(15),i(),t(16,"p",10),a(17),o(18,"translate"),i()(),t(19,"div",4)(20,"div",5)(21,"div",11),c(),t(22,"svg",12),S(23,"path",13),i()()(),x(),t(24,"p",9),a(25),i(),t(26,"p",10),a(27),o(28,"translate"),i()(),t(29,"div",4)(30,"div",5)(31,"div",14),c(),t(32,"svg",15),S(33,"path",16),i()()(),x(),t(34,"p",9),a(35),i(),t(36,"p",10),a(37),o(38,"translate"),i()(),t(39,"div",4)(40,"div",5)(41,"div",17),c(),t(42,"svg",18),S(43,"path",19),i()()(),x(),t(44,"p",9),a(45),i(),t(46,"p",10),a(47),o(48,"translate"),i()()(),t(49,"div",20)(50,"div",21)(51,"h2",22),a(52),o(53,"translate"),i(),t(54,"a",23),a(55),o(56,"translate"),i()(),f(57,w,3,3,"div",24)(58,O,22,15,"div",25),i()()),l&2&&(n(3),r(d(4,13,"CMS_ADMIN.DASHBOARD")),n(3),r(d(7,15,"CMS_ADMIN.OVERVIEW")),n(9),r(p.orders.length),n(2),r(d(18,17,"CMS_ADMIN.TOTAL_ORDERS")),n(8),E("\u20AC ",p.totalRevenue.toFixed(2),""),n(2),r(d(28,19,"CMS_ADMIN.TOTAL_REVENUE")),n(8),r(p.products.length),n(2),r(d(38,21,"CMS_ADMIN.PRODUCTS")),n(8),r(p.customers.length),n(2),r(d(48,23,"CMS_ADMIN.CUSTOMERS")),n(5),r(d(53,25,"CMS_ADMIN.RECENT_ORDERS")),n(3),r(d(56,27,"CMS_ADMIN.VIEW_ALL")),n(2),b(p.orders.length===0?57:58))},dependencies:[T,_,A,I],encapsulation:2})}return s})();export{j as DashboardComponent};
